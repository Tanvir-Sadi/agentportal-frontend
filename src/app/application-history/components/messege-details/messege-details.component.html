<div class="bg-white mt-2 border-2 rounded-sm p-5">
    <div class="flex flex-col mt-5">
        <div class="-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8">
          <div class="py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8">
            <div class="overflow-hidden border-b border-gray-400 sm:rounded">
              <table class="min-w-full border divide-y divide-gray-border-gray-400">
                <thead class="bg-blue-900">
                  <tr>
                    <th scope="col" class="text-white px-6 py-3 text-left uppercase tracking-wider">
                      Message
                    </th>
                    <th scope="col" class="text-white px-6 py-3 text-left uppercase tracking-wider">
                      Name
                    </th>
                    <th scope="col" class="text-white px-6 py-3 text-left uppercase tracking-wider">
                      Type
                    </th>
                    <th scope="col" class="text-white px-6 py-3 text-left uppercase tracking-wider">
                      Date
                    </th>
                  </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-border-gray-400">
                  <tr *ngFor="let message of messageList">
                    <td class="px-6 py-4">
                      {{message.message}}
                      </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      {{message.user}}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap">
                      <span
                        class="px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800">
                        {{message.type}}
                      </span>
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm">
                      {{message.updated_at | timeAgo}}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
  <form [formGroup]="messages" (ngSubmit)="addmessage()" class="grid grid-cols-1 gap-x-5 gap-y-4 my-5 rounded">
    <div class="">
      <label class="block mb-1 font-semibold" for="message">Add New Message:</label>
      <textarea required formControlName="message" name="message" id="message" class="w-full resize-y rounded-sm"></textarea>
    </div>

    <div class="">
      <label class="block mb-1 font-semibold" for="type">Type:</label>
      <select required formControlName="type" class="form-input px-4 py-2 w-full rounded-sm" name="type" id="type">
        <option></option>
        <option *ngIf="roles=='agent'">Application Related Comment</option>
        <option *ngIf="roles=='agent'">Appointment of Agent Required</option>
        <option *ngIf="roles=='agent'">CAS Documents Uploaded/CAS Required</option>
        <option *ngIf="roles=='agent'">Change of Agent Required</option>
        <option *ngIf="roles=='agent'">Conditional to Unconditional Offer Required</option>
        <option *ngIf="roles=='agent'">Course Change Required</option>
        <option *ngIf="roles=='agent'">Defer Required</option>
        <option *ngIf="roles=='agent'">Others</option>
        <option *ngIf="roles=='agent'">Refund Required</option>
        <option *ngIf="roles=='agent'">TT Copy Uploaded</option>
        <option *ngIf="roles=='agent'">Urgent Update Required</option>
        <option *ngIf="roles=='admin'">Application OK for processing</option>
        <option *ngIf="roles=='admin'">Application can not be processed</option>
        <option *ngIf="roles=='admin'">Application under processed</option>
        <option *ngIf="roles=='admin'">Application processed</option>
        <option *ngIf="roles=='admin'">Send to CAS Team</option>
        <option *ngIf="roles=='admin'">Offer Issued</option>
        <option *ngIf="roles=='admin'">Case Closed</option>
      </select>
    </div>

    <div class="justify-self-end flex">
      <button class="self-center bg-blue-900 text-white rounded-sm p-2" type="submit">
        Send Message
      </button>
    </div>
  </form>
</div>